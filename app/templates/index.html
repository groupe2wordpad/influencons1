{% extends 'base.html' %}
{% block title %}Influençons.com — Influençons Autrement{% endblock %}

{% block extra_css %}
<style>
/* VARIABLES */
:root {
  --violet-principal: #4B2E83;
  --or-principal: #D4AF37;
  --or-clair: #F3E1A3;
  --blanc: #ffffff;
  --gris-fonce: #1c1c1c;
  --gris-clair: #f5f5f5;
  --transition: 0.35s ease;
  --radius-card: 12px;
}

/* RESET BASIQUE */
body, html { margin:0; padding:0; font-family: 'Poppins', sans-serif; color: var(--gris-fonce); background-color: #fff; }
a { text-decoration:none; color: inherit; }
section { padding:80px 20px; max-width:1200px; margin:0 auto; }

/* HERO */
.hero {
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  min-height:100vh;
  background: linear-gradient(135deg, #4B2E83 0%, #7A5AB8 100%);
  color: var(--blanc);
  position:relative;
  overflow:hidden;
}

.hero h1 {
  font-family: 'Cinzel', serif;
  font-size: clamp(3rem, 8vw, 5rem);
  background: linear-gradient(90deg, var(--or-clair), var(--or-principal));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 20px;
}

.hero p {
  font-size:1.2rem;
  line-height:1.6;
  max-width:700px;
  margin-bottom:30px;
  opacity:0.9;
}

.hero .cta-btn {
  display:inline-block;
  padding:16px 40px;
  border-radius:30px;
  border:2px solid var(--or-principal);
  font-weight:600;
  color: var(--or-principal);
  transition: all var(--transition);
}
.hero .cta-btn:hover {
  background: var(--or-principal);
  color: var(--gris-fonce);
  box-shadow: 0 0 25px rgba(212,160,23,0.3);
}

/* ANIMATIONS LÉGÈRES */
.hero::after {
  content:'';
  position:absolute;
  top:0; left:0; width:100%; height:100%;
  background: radial-gradient(circle at top center, rgba(255,255,255,0.08), transparent 70%);
  pointer-events:none;
}

/* ARTICLES */
.articles-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:24px;
  margin-top:40px;
}

.article-card {
  background: var(--gris-clair);
  border-radius: var(--radius-card);
  padding:24px;
  transition: all var(--transition);
  cursor:pointer;
}
.article-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0,0,0,0.08);
}
.article-card h3 { margin-bottom:12px; color: var(--violet-principal); }
.article-card p { font-size:0.95rem; line-height:1.4; opacity:0.85; }
.article-card .card-link { color: var(--or-principal); font-weight:600; margin-top:12px; display:inline-block; }

/* SECTION LABELS */
.section-label {
  text-transform: uppercase;
  color: var(--or-principal);
  letter-spacing: 0.2em;
  font-weight:600;
  margin-bottom:10px;
  display:block;
}
.section-title { font-size:2rem; margin-bottom:16px; }
.section-desc { font-size:1rem; opacity:0.8; max-width:800px; margin-bottom:32px; }

/* DÉFI */
.defi-section {
  display:flex;
  flex-wrap:wrap;
  background: var(--violet-principal);
  color: var(--blanc);
  border-radius: var(--radius-card);
  overflow:hidden;
}
.defi-section > div { flex:1 1 400px; padding:40px; }
.defi-title { font-size:1.8rem; margin-bottom:16px; }
.defi-text { font-size:1rem; opacity:0.9; line-height:1.5; }
.defi-actions a { margin-right:12px; }

/* SOLIDARITÉ */
.solidarite-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap:24px;
  margin-top:40px;
}
.solidarite-card {
  background: var(--gris-clair);
  border-radius: var(--radius-card);
  padding:24px;
  transition: all var(--transition);
}
.solidarite-card:hover { transform: translateY(-5px); box-shadow: 0 15px 25px rgba(0,0,0,0.08); }
.solidarite-card h3 { color: var(--violet-principal); margin-bottom:12px; }
.solidarite-card p { font-size:0.95rem; line-height:1.4; }

/* NEWSLETTER */
.newsletter-section {
  background: var(--or-principal);
  color: var(--gris-fonce);
  padding:60px 20px;
  border-radius: var(--radius-card);
  text-align:center;
}
.newsletter-section h2 { font-size:2rem; margin-bottom:16px; color:#fff; }
.newsletter-section input[type="email"] {
  padding:12px 20px;
  border-radius:30px;
  border:none;
  margin-right:12px;
  width:250px;
  max-width:80%;
}
.newsletter-section button {
  padding:12px 28px;
  border:none;
  border-radius:30px;
  background: var(--violet-principal);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
.newsletter-section button:hover { background:#36215c; }

/* RESPONSIVE */
@media(max-width:768px){
  .defi-section { flex-direction:column; }
  .articles-grid, .solidarite-grid { grid-template-columns:1fr; }
}
</style>
{% endblock %}

{% block content %}

<!-- HERO -->
<section class="hero">
  <h1>Influençons<span style="color:var(--or-principal)">.</span></h1>
  <p>« Vous êtes la <strong>lumière du monde</strong>. Une ville sur une montagne ne peut être cachée. »<br><em>Matthieu 5:14</em></p>
  <a href="{{ url_for('main.articles') }}" class="cta-btn">Découvrir le blog</a>
</section>

<!-- ARTICLES -->
<section>
  <span class="section-label">Réflexions & Inspirations</span>
  <h2 class="section-title">Derniers Articles</h2>
  <p class="section-desc">Des textes pour nourrir l'âme, questionner le regard et grandir dans la bienveillance.</p>
  <div class="articles-grid">
    {% for art in articles %}
    <div class="article-card" onclick="window.location='{{ url_for('main.article', slug=art.slug) }}'">
      <h3>{{ art.title }}</h3>
      <p>{{ art.excerpt or '' }}</p>
      <a href="{{ url_for('main.article', slug=art.slug) }}" class="card-link">Lire l'article →</a>
    </div>
    {% else %}
    <div style="grid-column:span 3; text-align:center; opacity:0.5;">
      <p>Les premiers articles arrivent bientôt…</p>
    </div>
    {% endfor %}
  </div>
</section>

<!-- DÉFI -->
{% if defi %}
<section class="defi-section">
  <div>
    <span class="section-label">Défi du moment</span>
    <h2 class="defi-title">{{ defi.title }}</h2>
    <p class="defi-text">{{ defi.description }}</p>
    <div class="defi-actions">
      <a href="#defis" class="cta-btn">Je relève le défi</a>
    </div>
  </div>
</section>
{% endif %}

<!-- SOLIDARITÉ -->
<section>
  <span class="section-label">Agir Ensemble</span>
  <h2 class="section-title">Solidarité</h2>
  <p class="section-desc">Des actions concrètes pour toucher des vies et faire une différence durable.</p>
  <div class="solidarite-grid">
    {% for action in solidarite %}
    <div class="solidarite-card">
      <h3>{{ action.title }}</h3>
      <p>{{ action.description }}</p>
      <a href="#" class="card-link">En savoir plus →</a>
    </div>
    {% else %}
    <div style="text-align:center; opacity:0.5;">
      <p>Les actions de solidarité arrivent bientôt…</p>
    </div>
    {% endfor %}
  </div>
</section>

<!-- NEWSLETTER -->
<section class="newsletter-section">
  <span class="section-label">Restez inspiré(e)</span>
  <h2>Recevez la lumière chaque semaine</h2>
  <p>Articles, défis et nouvelles directement dans votre boîte mail.</p>
  <form class="newsletter-form" method="POST" action="{{ url_for('main.newsletter_subscribe') }}">
    <input type="hidden" name="csrf_token" value="">
    <input type="email" name="email" placeholder="Votre adresse email…" required>
    <button type="submit">S'abonner</button>
  </form>
</section>

{% endblock %}
